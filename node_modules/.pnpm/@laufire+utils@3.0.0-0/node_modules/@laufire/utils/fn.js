"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.nothing = exports.identity = exports.self = exports.defined = exports.value = exports.cache = void 0;

var _collection = require("./collection");

var _reflection = require("./reflection");

/**
 * A set of functions to help with calling other functions.
 *
 */
var cache = function cache(fn) {
  var qualifier = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _collection.hasSame;
  // eslint-disable-next-line init-declarations
  var result;
  var prevArgs = []; // eslint-disable-next-line no-return-assign

  return function () {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return qualifier(args, prevArgs) && result !== undefined ? result : (prevArgs = args, result = fn.apply(void 0, args));
  };
};

exports.cache = cache;

var value = function value(x) {
  return (0, _reflection.isFunction)(x) ? x() : x;
};

exports.value = value;

var defined = function defined() {
  for (var _len2 = arguments.length, values = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
    values[_key2] = arguments[_key2];
  }

  return values.find(_reflection.isDefined);
};

exports.defined = defined;

var self = function self(x) {
  return x;
};

exports.self = self;
var identity = self;
exports.identity = identity;

var nothing = function nothing() {
  return undefined;
};

exports.nothing = nothing;