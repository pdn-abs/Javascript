"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _random = require("@laufire/utils/random");

var _matchers = require("./matchers");

describe('isAcceptable checks whether the result is close' + 'to the expected value, by the given margin', function () {
  test('example', function () {
    var actual = 0.9;
    var expected = 1;
    var margin = 0.1;
    var result = (0, _matchers.isAcceptable)(actual, expected, margin);
    expect(result).toEqual(true);
  });
  test('randomized test', function () {
    var expected = (0, _random.rndBetween)(30, 40);
    var allowedMargin = (0, _random.rndBetween)(10, 20) / 100;
    var actual = expected - expected * allowedMargin;
    var expectations = [[(0, _random.rndBetween)(50, 60) / 100, true], [0, false]];
    expectations.forEach(function (_ref) {
      var _ref2 = (0, _slicedToArray2["default"])(_ref, 2),
          margin = _ref2[0],
          expectation = _ref2[1];

      var result = (0, _matchers.isAcceptable)(actual, expected, margin);
      expect(result).toEqual(expectation);
    });
  });
});